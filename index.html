<!DOCTYPE html>
<html>
    <head>
        <!--Required meta tags-->
        <meta charset="utf-8">
        <meta name="viewport"content="width=device-width, initial-scale=1">
        <!--BootstrapCSS-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
        
        <title>Home</title>
        <style>
            .navbar-toggler{
                margin-right: 30px;
            }
            .bi-cup-hot-fill{
                padding-right: 8px;
            }
            .dropdown-item{
                margin-top: 5px;
            }
            .dropdown-toggle{
                margin-left: 20px;
            }
            .hrefclass{
                margin-left: 10px;
            }
            .hyperlink_container{
                margin-top: 5px;
            }
        </style>
    </head>
    <body>
      <header class="p-3 text-bg-dark">
        <div class="container">
          <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="./index.html" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none p-2">
                <i class="bi bi-cup-hot-fill"></i> SKAFE
            </a>

            <div class="text-center p-2" id="navbar_item">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="first_element">
                    Cafe Namu
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="./public/menu_cafe_namu.html">메뉴</a></li>
                    <li><a class="dropdown-item" href="./public/location(Cafe_Namu).html">지도</a></li>
                    <li><a class="dropdown-item" href="#">행사</a></li>
                  </ul>
            </div>

            <div class="text-center p-2" id="navbar_item">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Blue Pot
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="./public/menu_blue_pot.html">메뉴</a></li>
                    <li><a class="dropdown-item" href="./public/location(Blue_pot).html">지도</a></li>
                    <li><a class="dropdown-item" href="#">행사</a></li>
                  </ul>
            </div>

            <div class="text-center p-2" id="navbar_item">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Pandorothy
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="./public/menu_pandorothy.html">메뉴</a></li>
                    <li><a class="dropdown-item" href="./public/location(Pandorothy).html">지도</a></li>
                    <li><a class="dropdown-item" href="#">행사</a></li>
                  </ul>
            </div>

            <div class="text-end position-relative top-0 start-50">
                <button type="button" class="btn btn-outline-light me-2" id="login">Login</button>
                <button type="button" class="btn btn-warning" id="sign-up">Sign-up</button>
            </div>
            
          </div>
        </div>
    </header>
        <br>
        <main class="container">
            <div class="p-4 p-md-5 mb-4 rounded text-bg-dark">
                <div class="col-md-6 px-0">
                  <h1 class="display-4 fst-italic" id="welcome_ment">Welcome To SKAFE</h1>
                  <p class="lead my-3">SKAFE Website is for information of cafe in SKKU Univercity</p>
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-md-12">
                  <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static">
                      
                      <h3 class="mb-0"><strong>Cafe Namu</strong></h3>
                      <div class="mb-1 text-muted">Tel. 031-299-6119</div>
                      <p class="card-text mb-auto">GS25 성대기숙사의점 옆에 위치</p>
                      <div class="d-flex hyperlink_container">
                        <div>
                        <a href="./public/menu_cafe_namu.html">주문하기</a>
                        </div>
                        <div class = "hrefclass">
                          <a href="./public/location(Cafe_Namu).html">지도</a>
                        </div>
                        </div>
                    </div>
                    <div class="col-auto d-none d-lg-block">
                    </div>
                  </div>
                </div>
        
                <div class="col-md-12">
                  <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static">
                      
                      <h3 class="mb-0"><strong>Blue Pot</strong></h3>
                      <div class="mb-1 text-muted">Tel. 031-293-8137</div>
                      <p class="card-text mb-auto">제1공학관(23동) 2층에 위치</p>
                      <div class="d-flex hyperlink_container">
                        <div>
                        <a href="./public/menu_blue_pot.html">주문하기</a>
                        </div>
                        <div class = "hrefclass">
                          <a href="./public/location(Blue_pot).html">지도</a>
                        </div>
                        </div>
                    </div>
                    <div class="col-auto d-none d-lg-block">
                    </div>
                  </div>
                </div>

                <div class="col-md-12">
                  <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static">
                      
                      <h3 class="mb-0"><strong>Pandorothy</strong></h3>
                      <div class="mb-1 text-muted">Tel. 070-8865-8565</div>
                      <p class="card-text mb-auto">산학협력센터(85동) 2층에 위치</p>
                      <div class="d-flex hyperlink_container">
                        <div>
                        <a href="./public/menu_pandorothy.html">주문하기</a>
                        </div>
                        <div class = "hrefclass">
                          <a href="./public/location(Pandorothy).html">지도</a>
                        </div>
                        </div>
                    </div>
                    <div class="col-auto d-none d-lg-block">
                    </div>
                  </div>
                </div>
              </div>
        </main>
      
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"crossorigin="anonymous">
        </script>
        <script>/*JSCode*/
            //세션에 암호화하고 하는 로그인 설정 대신 로컬스토리지로 로그인 상태 대체
            let tsk=localStorage.getItem('id');
            console.log(tsk)
            let classing=localStorage.getItem('auth');//education cafemanager engineer
            let login_state=0
            let loginBtnPart=document.getElementById('login');
            let signUpPart=document.getElementById('sign-up');
            let login_button=document.querySelector("#login");
            let signup_btn=document.querySelector("#sign-up");
            let welcome_mention=document.getElementById("welcome_ment");
            //로그인 되어있는지 안되어있는지 확인
            //로그인 되어있다면 로그인 버튼을 로그아웃 버튼으로 바꾼다. 기능도 달리한다.
            if (tsk===undefined || tsk==="0" || tsk===null)
            {
                login_state=0;
                loginBtnPart.innerText = 'Login';            
                signUpPart.disabled=false;
                /*log - in btn이 클릭되면 login html로 이동한다*/              
                login_button.addEventListener("click",()=>{
                    location.href="./public/login.html"
                });
                /*sign up btn이 클릭되면 sign-up html로 이동한다*/            
                signup_btn.addEventListener("click",()=>{
                    location.href="./public/sign-up.html"
                });
                welcome_mention.innerText='Welcome To SKAFE';
            }
            else if(classing==="cafemanager"){ // 카페 관리자의 경우
                login_state=1;
                loginBtnPart.innerText = 'Log-Out';
                signUpPart.innerText="Manager Page";
                let mention_text="";
                mention_text="Activating Manager Mode";
                welcome_mention.innerText=mention_text;

                /*log - in btn이 클릭되면 login html로 이동한다*/
                login_button.addEventListener("click",()=>{
                    localStorage.setItem('id','0');
                    location.href="./public/login.html"
                });

                /*sign up btn이 클릭되면 sign-up html로 이동한다*/
                signup_btn.addEventListener("click",()=>{
                    location.href="./public/managerPage.html"
                });
            }
            else if(classing==="engineer"){ // 엔지니어의 경우
                login_state=1;
                loginBtnPart.innerText = 'Log-Out';
                signUpPart.innerText="Banning";
                let mention_text="";
                mention_text="Activating Manager Mode";
                welcome_mention.innerText=mention_text;

                /*log - in btn이 클릭되면 login html로 이동한다*/
                login_button.addEventListener("click",()=>{
                    localStorage.setItem('id','0');
                    localStorage.setItem('auth',"");
                    location.href="./public/login.html"
                });

                /*sign up btn이 클릭되면 sign-up html로 이동한다*/
                signup_btn.addEventListener("click",()=>{
                    location.href="./public/engineerPage.html"
                });
            }
            else
            {
                login_state=1;
                loginBtnPart.innerText = 'Log-Out';
                signUpPart.innerText="My Page";
                /*log - in btn이 클릭되면 login html로 이동한다*/
                login_button.addEventListener("click",()=>{
                    localStorage.setItem('id','0');
                    localStorage.setItem('auth',"");
                    location.href="./public/login.html"
                });
                /*sign up btn이 클릭되면 sign-up html로 이동한다*/
                signup_btn.addEventListener("click",()=>{
                    location.href="./public/myPage.html"
                });

                //유저에 따라서 welcome 인사를 다르게 설정
                let mention_text="";
                mention_text=`Welcome To SKAFE ${tsk}`;
                console.log(mention_text);
                welcome_mention.innerText=mention_text;
            }

            
        </script>
    </body>
</html>

